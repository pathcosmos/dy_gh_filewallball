<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileWallBall API Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .subtitle {
            font-size: 1.2em;
            opacity: 0.95;
        }
        
        nav {
            background: #f8f9fa;
            padding: 20px 40px;
            border-bottom: 2px solid #e9ecef;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }
        
        nav a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        nav a:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }
        
        .content {
            padding: 40px;
        }
        
        section {
            margin-bottom: 60px;
        }
        
        h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 30px 0 15px;
        }
        
        h4 {
            color: #495057;
            font-size: 1.2em;
            margin: 20px 0 10px;
        }
        
        .endpoint-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .endpoint-table thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .endpoint-table th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .endpoint-table td {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .endpoint-table tbody tr:hover {
            background: #f8f9fa;
        }
        
        .endpoint-table tbody tr:last-child td {
            border-bottom: none;
        }
        
        .method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.85em;
            text-align: center;
            min-width: 60px;
        }
        
        .method.get {
            background: #28a745;
            color: white;
        }
        
        .method.post {
            background: #007bff;
            color: white;
        }
        
        .method.put {
            background: #ffc107;
            color: #333;
        }
        
        .method.delete {
            background: #dc3545;
            color: white;
        }
        
        .path {
            font-family: 'Courier New', monospace;
            background: #f1f3f5;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.95em;
        }
        
        .params {
            font-size: 0.9em;
            line-height: 1.8;
        }
        
        .param-name {
            font-family: 'Courier New', monospace;
            background: #e7f5ff;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 600;
        }
        
        .param-type {
            color: #666;
            font-style: italic;
        }
        
        .header-name {
            font-family: 'Courier New', monospace;
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 600;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .feature-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .feature-list {
            list-style: none;
            padding-left: 0;
        }
        
        .feature-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }
        
        .feature-list li::before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
        }
        
        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .service-item {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 15px;
            border-radius: 8px;
            font-size: 0.95em;
            transition: transform 0.2s;
        }
        
        .service-item:hover {
            transform: scale(1.05);
        }
        
        .service-item strong {
            color: #495057;
            display: block;
            margin-bottom: 5px;
        }
        
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
            margin: 2px;
        }
        
        .badge.admin {
            background: #ff6b6b;
            color: white;
        }
        
        .badge.auth {
            background: #4ecdc4;
            color: white;
        }
        
        .badge.optional {
            background: #95e1d3;
            color: #333;
        }
        
        .stats-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-item {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            display: block;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        footer {
            background: #f8f9fa;
            padding: 30px;
            text-align: center;
            border-top: 2px solid #e9ecef;
            color: #6c757d;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        @media (max-width: 768px) {
            .container {
                border-radius: 0;
            }
            
            .content {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            h2 {
                font-size: 1.5em;
            }
            
            .endpoint-table {
                font-size: 0.9em;
            }
            
            .endpoint-table th,
            .endpoint-table td {
                padding: 10px;
            }
            
            nav ul {
                flex-direction: column;
                gap: 10px;
            }
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
            }
            
            nav {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>🚀 FileWallBall API</h1>
            <p class="subtitle">Enterprise-Grade File Management System</p>
        </header>
        
        <nav>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#statistics">Statistics</a></li>
                <li><a href="#endpoints">API Endpoints</a></li>
                <li><a href="#features">Core Features</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#authentication">Authentication</a></li>
                <li><a href="#storage">Storage</a></li>
                <li><a href="#security">Security</a></li>
            </ul>
        </nav>
        
        <div class="content">
            <section id="overview">
                <h2>📋 Overview</h2>
                <p>FileWallBall API는 FastAPI 기반의 엔터프라이즈급 파일 관리 시스템입니다. 
                프로젝트 키 기반 격리, 다중 스토리지 백엔드 지원, 고급 보안 기능을 제공합니다.</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>🏗️ Architecture</h4>
                        <ul class="feature-list">
                            <li>FastAPI + AsyncIO 기반</li>
                            <li>SQLAlchemy ORM (Async)</li>
                            <li>Redis 캐싱 시스템</li>
                            <li>서비스 지향 아키텍처</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>🔐 Security</h4>
                        <ul class="feature-list">
                            <li>프로젝트 키 인증</li>
                            <li>IP 기반 접근 제어</li>
                            <li>RBAC 권한 관리</li>
                            <li>Rate Limiting</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>⚡ Performance</h4>
                        <ul class="feature-list">
                            <li>Redis 캐싱</li>
                            <li>스트리밍 응답</li>
                            <li>비동기 처리</li>
                            <li>연결 풀링</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <section id="statistics">
                <div class="stats-box">
                    <h3>System Statistics</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-number">43</span>
                            <span class="stat-label">API Endpoints</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">20+</span>
                            <span class="stat-label">Service Modules</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">4</span>
                            <span class="stat-label">Storage Backends</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">2</span>
                            <span class="stat-label">Auth Methods</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="endpoints">
                <h2>🔌 API Endpoints</h2>
                
                <h3>1. Legacy Endpoints (Main Application)</h3>
                <table class="endpoint-table">
                    <thead>
                        <tr>
                            <th>Endpoint</th>
                            <th>Method</th>
                            <th>Path</th>
                            <th>Parameters</th>
                            <th>Headers</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Health Check</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/health</span></td>
                            <td>-</td>
                            <td>-</td>
                            <td>기본 헬스 체크</td>
                        </tr>
                        <tr>
                            <td>Upload File</td>
                            <td><span class="method post">POST</span></td>
                            <td><span class="path">/upload</span></td>
                            <td class="params">
                                <span class="param-name">file</span> <span class="param-type">UploadFile</span> (form-data)<br>
                                <span class="param-name">project_id</span> <span class="param-type">str</span> <span class="badge optional">optional</span>
                            </td>
                            <td><span class="header-name">X-Project-Key</span></td>
                            <td>프로젝트 키 인증 파일 업로드</td>
                        </tr>
                        <tr>
                            <td>Get File Info</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/files/{file_id}</span></td>
                            <td class="params">
                                <span class="param-name">file_id</span> <span class="param-type">UUID</span> (path)
                            </td>
                            <td>-</td>
                            <td>파일 정보 조회</td>
                        </tr>
                        <tr>
                            <td>Download File</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/download/{file_id}</span></td>
                            <td class="params">
                                <span class="param-name">file_id</span> <span class="param-type">UUID</span> (path)
                            </td>
                            <td>-</td>
                            <td>파일 다운로드 (스트리밍)</td>
                        </tr>
                        <tr>
                            <td>View File</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/view/{file_id}</span></td>
                            <td class="params">
                                <span class="param-name">file_id</span> <span class="param-type">UUID</span> (path)
                            </td>
                            <td>-</td>
                            <td>텍스트 파일 미리보기 (1000자)</td>
                        </tr>
                        <tr>
                            <td>List Files</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/files</span></td>
                            <td class="params">
                                <span class="param-name">limit</span> <span class="param-type">int = 10</span><br>
                                <span class="param-name">offset</span> <span class="param-type">int = 0</span>
                            </td>
                            <td>-</td>
                            <td>파일 목록 조회 (페이지네이션)</td>
                        </tr>
                        <tr>
                            <td>Delete File</td>
                            <td><span class="method delete">DELETE</span></td>
                            <td><span class="path">/files/{file_id}</span></td>
                            <td class="params">
                                <span class="param-name">file_id</span> <span class="param-type">UUID</span> (path)
                            </td>
                            <td>-</td>
                            <td>파일 삭제 (물리적 + DB)</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>2. V1 Files API (/api/v1/files/)</h3>
                <table class="endpoint-table">
                    <thead>
                        <tr>
                            <th>Endpoint</th>
                            <th>Method</th>
                            <th>Path</th>
                            <th>Parameters</th>
                            <th>Auth</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Upload</td>
                            <td><span class="method post">POST</span></td>
                            <td><span class="path">/api/v1/files/upload</span></td>
                            <td class="params">
                                <span class="param-name">file</span> <span class="param-type">UploadFile</span><br>
                                <span class="param-name">category</span> <span class="param-type">str</span> <span class="badge optional">optional</span><br>
                                <span class="param-name">tags</span> <span class="param-type">List[str]</span> <span class="badge optional">optional</span><br>
                                <span class="param-name">description</span> <span class="param-type">str</span> <span class="badge optional">optional</span><br>
                                <span class="param-name">is_public</span> <span class="param-type">bool = true</span>
                            </td>
                            <td><span class="badge auth">Bearer Token</span></td>
                            <td>고급 파일 업로드</td>
                        </tr>
                        <tr>
                            <td>List Files</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/files/</span></td>
                            <td class="params">
                                <span class="param-name">page</span> <span class="param-type">int = 1</span><br>
                                <span class="param-name">size</span> <span class="param-type">int = 10</span><br>
                                <span class="param-name">category</span> <span class="param-type">str</span> <span class="badge optional">optional</span><br>
                                <span class="param-name">tags</span> <span class="param-type">List[str]</span> <span class="badge optional">optional</span><br>
                                <span class="param-name">file_type</span> <span class="param-type">str</span> <span class="badge optional">optional</span><br>
                                <span class="param-name">min_size</span> <span class="param-type">int</span> <span class="badge optional">optional</span><br>
                                <span class="param-name">max_size</span> <span class="param-type">int</span> <span class="badge optional">optional</span><br>
                                <span class="param-name">sort_by</span> <span class="param-type">str = "created_at"</span><br>
                                <span class="param-name">order</span> <span class="param-type">str = "desc"</span>
                            </td>
                            <td>-</td>
                            <td>고급 필터링 파일 목록</td>
                        </tr>
                        <tr>
                            <td>Search</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/files/search</span></td>
                            <td class="params">
                                <span class="param-name">query</span> <span class="param-type">str</span><br>
                                <span class="param-name">page</span> <span class="param-type">int = 1</span><br>
                                <span class="param-name">size</span> <span class="param-type">int = 10</span>
                            </td>
                            <td>-</td>
                            <td>파일명/설명 검색</td>
                        </tr>
                        <tr>
                            <td>Get File</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/files/{file_uuid}</span></td>
                            <td class="params">
                                <span class="param-name">file_uuid</span> <span class="param-type">UUID</span> (path)
                            </td>
                            <td>-</td>
                            <td>상세 파일 정보 (캐싱)</td>
                        </tr>
                        <tr>
                            <td>Update File</td>
                            <td><span class="method put">PUT</span></td>
                            <td><span class="path">/api/v1/files/{file_uuid}</span></td>
                            <td class="params">
                                <span class="param-name">file_uuid</span> <span class="param-type">UUID</span> (path)<br>
                                Body: FileUpdate model
                            </td>
                            <td>-</td>
                            <td>파일 메타데이터 수정</td>
                        </tr>
                        <tr>
                            <td>Soft Delete</td>
                            <td><span class="method delete">DELETE</span></td>
                            <td><span class="path">/api/v1/files/{file_uuid}</span></td>
                            <td class="params">
                                <span class="param-name">file_uuid</span> <span class="param-type">UUID</span> (path)
                            </td>
                            <td>-</td>
                            <td>소프트 삭제</td>
                        </tr>
                        <tr>
                            <td>Permanent Delete</td>
                            <td><span class="method delete">DELETE</span></td>
                            <td><span class="path">/api/v1/files/{file_uuid}/permanent</span></td>
                            <td class="params">
                                <span class="param-name">file_uuid</span> <span class="param-type">UUID</span> (path)
                            </td>
                            <td><span class="badge admin">Admin</span></td>
                            <td>영구 삭제</td>
                        </tr>
                        <tr>
                            <td>Download</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/files/{file_uuid}/download</span></td>
                            <td class="params">
                                <span class="param-name">file_uuid</span> <span class="param-type">UUID</span> (path)
                            </td>
                            <td>-</td>
                            <td>파일 다운로드 스트리밍</td>
                        </tr>
                        <tr>
                            <td>Preview</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/files/{file_uuid}/preview</span></td>
                            <td class="params">
                                <span class="param-name">file_uuid</span> <span class="param-type">UUID</span> (path)
                            </td>
                            <td>-</td>
                            <td>이미지 미리보기</td>
                        </tr>
                        <tr>
                            <td>Thumbnail</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/files/{file_uuid}/thumbnail</span></td>
                            <td class="params">
                                <span class="param-name">file_uuid</span> <span class="param-type">UUID</span> (path)<br>
                                <span class="param-name">size</span> <span class="param-type">str = "medium"</span><br>
                                (small/medium/large)
                            </td>
                            <td>-</td>
                            <td>썸네일 생성/제공</td>
                        </tr>
                        <tr>
                            <td>Popular Files</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/files/popular</span></td>
                            <td class="params">
                                <span class="param-name">limit</span> <span class="param-type">int = 10</span><br>
                                <span class="param-name">days</span> <span class="param-type">int = 30</span>
                            </td>
                            <td>-</td>
                            <td>인기 파일 목록</td>
                        </tr>
                        <tr>
                            <td>Trending Files</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/files/trending</span></td>
                            <td class="params">
                                <span class="param-name">limit</span> <span class="param-type">int = 10</span><br>
                                <span class="param-name">hours</span> <span class="param-type">int = 24</span>
                            </td>
                            <td>-</td>
                            <td>트렌딩 파일 (24시간)</td>
                        </tr>
                        <tr>
                            <td>Statistics</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/files/statistics/overview</span></td>
                            <td>-</td>
                            <td>-</td>
                            <td>시스템 통계</td>
                        </tr>
                        <tr>
                            <td>Cleanup Stats</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/files/cleanup/stats</span></td>
                            <td>-</td>
                            <td><span class="badge admin">Admin</span></td>
                            <td>정리 통계</td>
                        </tr>
                        <tr>
                            <td>Trigger Cleanup</td>
                            <td><span class="method post">POST</span></td>
                            <td><span class="path">/api/v1/files/cleanup/trigger</span></td>
                            <td class="params">
                                <span class="param-name">dry_run</span> <span class="param-type">bool = false</span>
                            </td>
                            <td><span class="badge admin">Admin</span></td>
                            <td>수동 정리 실행</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>3. V1 Projects API (/api/v1/projects/)</h3>
                <table class="endpoint-table">
                    <thead>
                        <tr>
                            <th>Endpoint</th>
                            <th>Method</th>
                            <th>Path</th>
                            <th>Parameters</th>
                            <th>Headers</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Create Project</td>
                            <td><span class="method post">POST</span></td>
                            <td><span class="path">/api/v1/projects/</span></td>
                            <td class="params">
                                <span class="param-name">project_name</span> <span class="param-type">str</span><br>
                                <span class="param-name">description</span> <span class="param-type">str</span> <span class="badge optional">optional</span><br>
                                <span class="param-name">max_file_size</span> <span class="param-type">int</span> <span class="badge optional">optional</span><br>
                                <span class="param-name">allowed_extensions</span> <span class="param-type">List[str]</span> <span class="badge optional">optional</span>
                            </td>
                            <td><span class="header-name">X-Master-Key</span></td>
                            <td>프로젝트 키 생성</td>
                        </tr>
                        <tr>
                            <td>Get Project</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/projects/{project_id}</span></td>
                            <td class="params">
                                <span class="param-name">project_id</span> <span class="param-type">str</span> (path)
                            </td>
                            <td>-</td>
                            <td>프로젝트 정보 조회</td>
                        </tr>
                        <tr>
                            <td>Deactivate Project</td>
                            <td><span class="method delete">DELETE</span></td>
                            <td><span class="path">/api/v1/projects/{project_id}</span></td>
                            <td class="params">
                                <span class="param-name">project_id</span> <span class="param-type">str</span> (path)
                            </td>
                            <td><span class="header-name">X-Master-Key</span></td>
                            <td>프로젝트 비활성화</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>4. V1 Health API (/api/v1/health/)</h3>
                <table class="endpoint-table">
                    <thead>
                        <tr>
                            <th>Endpoint</th>
                            <th>Method</th>
                            <th>Path</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Basic Health</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/health/health</span></td>
                            <td>기본 상태 확인</td>
                        </tr>
                        <tr>
                            <td>Detailed Health</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/health/detailed</span></td>
                            <td>DB/Redis 상태 포함</td>
                        </tr>
                        <tr>
                            <td>Readiness</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/health/ready</span></td>
                            <td>K8s Readiness Probe</td>
                        </tr>
                        <tr>
                            <td>Liveness</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/health/live</span></td>
                            <td>K8s Liveness Probe</td>
                        </tr>
                        <tr>
                            <td>Service Info</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/health/info</span></td>
                            <td>서비스 정보/설정</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>5. V1 IP Auth API (/api/v1/ip-auth/)</h3>
                <table class="endpoint-table">
                    <thead>
                        <tr>
                            <th>Endpoint</th>
                            <th>Method</th>
                            <th>Path</th>
                            <th>Parameters</th>
                            <th>Auth</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>IP Upload</td>
                            <td><span class="method post">POST</span></td>
                            <td><span class="path">/api/v1/ip-auth/upload</span></td>
                            <td class="params">
                                <span class="param-name">file</span> <span class="param-type">UploadFile</span><br>
                                <span class="param-name">api_key</span> <span class="param-type">str</span>
                            </td>
                            <td>Client IP</td>
                            <td>IP 기반 업로드</td>
                        </tr>
                        <tr>
                            <td>Add Allowed IPs</td>
                            <td><span class="method post">POST</span></td>
                            <td><span class="path">/api/v1/ip-auth/allowed-ips</span></td>
                            <td class="params">
                                Body: {"ips": ["1.2.3.4"], "description": str}
                            </td>
                            <td><span class="badge admin">Admin</span></td>
                            <td>IP 허용 목록 추가</td>
                        </tr>
                        <tr>
                            <td>Remove IPs</td>
                            <td><span class="method delete">DELETE</span></td>
                            <td><span class="path">/api/v1/ip-auth/allowed-ips</span></td>
                            <td class="params">
                                Body: {"ips": ["1.2.3.4"]}
                            </td>
                            <td><span class="badge admin">Admin</span></td>
                            <td>IP 제거</td>
                        </tr>
                        <tr>
                            <td>Regenerate Key</td>
                            <td><span class="method post">POST</span></td>
                            <td><span class="path">/api/v1/ip-auth/regenerate-key</span></td>
                            <td class="params">
                                <span class="param-name">ip_address</span> <span class="param-type">str</span>
                            </td>
                            <td><span class="badge admin">Admin</span></td>
                            <td>암호화 키 재생성</td>
                        </tr>
                        <tr>
                            <td>Statistics</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/ip-auth/statistics</span></td>
                            <td>-</td>
                            <td><span class="badge admin">Admin</span></td>
                            <td>IP 사용 통계</td>
                        </tr>
                        <tr>
                            <td>Health Check</td>
                            <td><span class="method get">GET</span></td>
                            <td><span class="path">/api/v1/ip-auth/health</span></td>
                            <td>-</td>
                            <td>-</td>
                            <td>IP Auth 서비스 상태</td>
                        </tr>
                    </tbody>
                </table>
            </section>
            
            <section id="features">
                <h2>✨ Core Features</h2>
                
                <h3>파일 관리 시스템</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>📁 File Operations</h4>
                        <ul class="feature-list">
                            <li>SHA-256 중복 제거</li>
                            <li>스트리밍 업로드/다운로드</li>
                            <li>썸네일 자동 생성</li>
                            <li>파일 미리보기</li>
                            <li>소프트 삭제 지원</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>🔍 Search & Filter</h4>
                        <ul class="feature-list">
                            <li>고급 필터링 옵션</li>
                            <li>카테고리/태그 시스템</li>
                            <li>크기/날짜 범위 검색</li>
                            <li>파일명/설명 검색</li>
                            <li>정렬 옵션 지원</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>📊 Analytics</h4>
                        <ul class="feature-list">
                            <li>인기 파일 추적</li>
                            <li>트렌딩 분석 (24시간)</li>
                            <li>사용량 통계</li>
                            <li>다운로드/조회 추적</li>
                            <li>시스템 개요 통계</li>
                        </ul>
                    </div>
                </div>
                
                <h3>보안 및 인증</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>🔑 Authentication</h4>
                        <ul class="feature-list">
                            <li>프로젝트 키 시스템</li>
                            <li>HMAC-SHA256 서명</li>
                            <li>JWT 토큰 지원</li>
                            <li>마스터 키 보호</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>🛡️ Security</h4>
                        <ul class="feature-list">
                            <li>IP 기반 접근 제어</li>
                            <li>Rate Limiting</li>
                            <li>RBAC 권한 관리</li>
                            <li>감사 로깅</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>✅ Validation</h4>
                        <ul class="feature-list">
                            <li>Magic Number 검증</li>
                            <li>MIME 타입 체크</li>
                            <li>악성코드 패턴 감지</li>
                            <li>확장자 화이트리스트</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <section id="services">
                <h2>⚙️ Service Modules (20+)</h2>
                
                <h3>File Management Services</h3>
                <div class="service-grid">
                    <div class="service-item">
                        <strong>FileStorageService</strong>
                        SHA-256 중복제거, 유연한 스토리지 백엔드
                    </div>
                    <div class="service-item">
                        <strong>FileValidationService</strong>
                        Magic number 검증, 악성코드 패턴 감지
                    </div>
                    <div class="service-item">
                        <strong>ThumbnailService</strong>
                        이미지 썸네일 자동 생성
                    </div>
                    <div class="service-item">
                        <strong>FilePreviewService</strong>
                        파일 내용 미리보기
                    </div>
                    <div class="service-item">
                        <strong>FileDeletionService</strong>
                        안전한 파일 삭제 및 정리
                    </div>
                    <div class="service-item">
                        <strong>FileListService</strong>
                        고급 필터링 파일 목록
                    </div>
                    <div class="service-item">
                        <strong>MetadataService</strong>
                        파일 메타데이터 관리
                    </div>
                </div>
                
                <h3>Security & Access Control</h3>
                <div class="service-grid">
                    <div class="service-item">
                        <strong>ProjectKeyService</strong>
                        HMAC-SHA256 프로젝트 키 관리
                    </div>
                    <div class="service-item">
                        <strong>IPAuthService</strong>
                        IP 기반 인증 및 rate limiting
                    </div>
                    <div class="service-item">
                        <strong>RBACService</strong>
                        역할 기반 접근 제어
                    </div>
                    <div class="service-item">
                        <strong>ErrorHandlerService</strong>
                        중앙집중식 에러 처리
                    </div>
                </div>
                
                <h3>Performance & Monitoring</h3>
                <div class="service-grid">
                    <div class="service-item">
                        <strong>CacheService</strong>
                        Redis 기반 동적 TTL 캐싱
                    </div>
                    <div class="service-item">
                        <strong>StatisticsService</strong>
                        파일 사용량 분석 및 리포팅
                    </div>
                    <div class="service-item">
                        <strong>HealthCheckService</strong>
                        종합 시스템 헬스 모니터링
                    </div>
                    <div class="service-item">
                        <strong>SchedulerService</strong>
                        백그라운드 작업 스케줄링
                    </div>
                    <div class="service-item">
                        <strong>BackgroundTaskService</strong>
                        비동기 작업 처리
                    </div>
                    <div class="service-item">
                        <strong>MetricsService</strong>
                        성능 메트릭 수집
                    </div>
                </div>
            </section>
            
            <section id="authentication">
                <h2>🔐 Authentication Mechanisms</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>Project Key Authentication</h4>
                        <ul class="feature-list">
                            <li>마스터 키 보호 시스템</li>
                            <li>HMAC-SHA256 서명 기반</li>
                            <li>JWT 토큰 생성 (1년 만료)</li>
                            <li>데이터베이스 검증</li>
                            <li>프로젝트별 격리</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>IP-Based Authentication</h4>
                        <ul class="feature-list">
                            <li>IP 화이트리스트 관리</li>
                            <li>IP별 암호화 키</li>
                            <li>Redis 기반 Rate Limiting</li>
                            <li>시간당 제한 설정</li>
                            <li>포괄적인 감사 로깅</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <section id="storage">
                <h2>💾 Storage Architecture</h2>
                
                <h3>Storage Configuration</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>Storage Types</h4>
                        <ul class="feature-list">
                            <li>Local File System</li>
                            <li>Amazon S3</li>
                            <li>Azure Blob Storage</li>
                            <li>Google Cloud Storage</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>Storage Structures</h4>
                        <ul class="feature-list">
                            <li>날짜 기반: YYYY/MM/DD</li>
                            <li>UUID 기반: 계층적 UUID</li>
                            <li>Flat: 단일 디렉토리</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>Processing Features</h4>
                        <ul class="feature-list">
                            <li>SHA-256 중복 감지</li>
                            <li>비동기 해시 계산</li>
                            <li>백그라운드 메타데이터 추출</li>
                            <li>경로 매핑 (Host ↔ Container)</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <section id="security">
                <h2>🛡️ Security Features</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>File Security</h4>
                        <ul class="feature-list">
                            <li>Magic Number 검증</li>
                            <li>악성코드 패턴 감지</li>
                            <li>확장자 허용목록</li>
                            <li>파일 크기 제한</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>Access Security</h4>
                        <ul class="feature-list">
                            <li>CORS 설정 관리</li>
                            <li>요청 검증 및 살균</li>
                            <li>완전한 감사 추적</li>
                            <li>DDoS 방어 메커니즘</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>Performance & Caching</h4>
                        <ul class="feature-list">
                            <li>Redis 통합 캐싱</li>
                            <li>동적 TTL 정책</li>
                            <li>Circuit Breaker 패턴</li>
                            <li>지능적 캐시 무효화</li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>
        
        <footer>
            <p>© 2024 FileWallBall API - Enterprise File Management System</p>
            <p>Built with FastAPI, SQLAlchemy, Redis, and ❤️</p>
        </footer>
    </div>
</body>
</html>